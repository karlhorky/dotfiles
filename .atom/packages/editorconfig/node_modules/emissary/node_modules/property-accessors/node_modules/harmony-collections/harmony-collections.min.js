/* (The MIT License)
 *
 * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the 'Software'), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute,
 * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included with all copies or
 * substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
 * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

void function(G,A,l,b,d,t,h,F,i,c,m,E,e){var z=h.getOwnPropertyNames,r=typeof z===l&&!(b in z);var a=i.bind?i.bind.bind(i.call):function(a){return function(b){return function(){return a.apply(b,arguments)}}}(i.call);var J=a(i[d]),K=a({}[d]),H=a(0..toString),f=a(i.call),L=a(i.apply),q=a({}.hasOwnProperty),D=a([].push),s=a([].splice);var x=function(a){return typeof a!==l?'':'name'in a?a.name:J(a).match(/^\n?function\s?(\w*)?_?\(/)[1]};var g=r?h.create:function(e,a){var c=function(){};c[b]=h(e);var d=new c;if(a)for(var f in a)u(d,f,a[k]);return d};var u=r?h.defineProperty:function(a,b,c){return a[b]=c.value,a};var v=function(c,a,b){return typeof a===l&&(b=a,a=x(b).replace(/_$/,'')),u(c,a,{configurable:!0,writable:!0,value:b})};var I=r?function(a){return function(b){return a(b)||b instanceof t}}(t.isArray):function(a){return a instanceof t||K(a)==='[object Array]'};var C='WeakMap'in c;var j=C?function(){function j(b){var a=new d;this.get=function(b){return e(a,b)},this.set=function(b,c){f(a,b,c)},b&&(this.wrap=function(c,d){if(g(a,c))throw new TypeError('Object is already a '+b);f(a,c,d)},this.unwrap=function(d){var c=e(a,d);if(!c)throw new TypeError(b+' is not generic');return c})}var d=c.WeakMap,e=a(d[b].get),f=a(d[b].set),g=a(d[b].has);return j}():function(){function getOwnPropertyNames(b){var a=z(b);return q(b,c)&&s(a,o(a,c),1),a}function j(d){var h=f(),a=f(),b={};b[a]={writable:!0,value:e};var c=function(d){var a=k(d);if(q(a,h))return a[h](b);var c=g(null,b);return u(a,h,{value:new F('s','l',l)(b,c)}),c};this.get=function(b){return c(b)[a]},this.set=function(b,d){c(b)[a]=d},d&&(this.wrap=function(e,f){var b=c(e);if(b[a])throw new TypeError('Object is already a '+d);b[a]=f},this.unwrap=function(e){var b=c(e)[a];if(!b)throw new TypeError(d+' is not generic');return b})}var l='return function(k){if(k===s)return l}',m=Math.random,i=g(null),n=a(''.slice),o=a([].indexOf);var f=function(){var a=n(H(m(),36),2);return a in i?f():i[a]=a};var c=f();if(r){var k=function(a){return!q(a,c)&&u(a,c,{value:g(null)}),a[c]};v(h,getOwnPropertyNames)}else{var p=function(a){function toString(){return a}return toString[d]=toString}(h[b][d]+'');var k=function(a){function toString(){return b.call(this)}if(q(a,d)&&c in a[d])return a[d][c];if(!(d in a))throw new Error('Can\'t store values for '+a);var b=a[d];return a[d]=toString,toString[d]=p,toString[c]={}}}return j}();var n=function(){function toString(){return a[0]+x(this)+a[1]}var a=(''+h).split('Object');v(toString,toString);var c={__proto__:[]}instanceof t?function(a){a.__proto__=toString}:function(a){v(a,toString)};var d=function(a){function toString(){return f}var d=a.shift(),f='[object '+x(d)+']';a.push(toString),c(d);for(var e=0;e<a.length;e++)c(a[e]),v(d[b],a[e]);return d};return function(a,c){if(a in m)return m[a];var b=new j(a);return m[a]=d(c(function(a,c){b.wrap(a,c)},function(a){return b.unwrap(a)}))}}();var o=function(a,b){a!==null&&typeof a===A&&typeof a.forEach===l&&a.forEach(function(d,c){I(d)&&d.length===2?b(a[c][0],a[c][1]):b(a[c],c)})};var p=function(b,a,c){try{return a[a.length]=('return '+b).replace('e_','\\u0065'),F.apply(0,a).apply(0,c)}catch(a){return b}};var B,y,w;B=C?m.WeakMap=c.WeakMap:n('WeakMap',function(g,a){function WeakMap(a){if(this===c||this==null||this===h)return new WeakMap(a);g(this,new j);var b=this;a&&o(a,function(a,c){f(set,b,a,c)})}function get(b){d(b);var c=a(this).get(b);return c===E?e:c}function set(b,c){d(b),a(this).set(b,c===e?E:c)}function has(b){return d(b),a(this).get(b)!==e}function delete_(b){d(b);var c=a(this);return c.get(b)===e?!1:(c.set(b,e),!0)}var h=WeakMap[b];var d=function(a){if(a==null||typeof a!==A&&typeof a!==l)throw new TypeError('Invalid WeakMap key')};return delete_=p(delete_,['d','a'],[d,a]),[WeakMap,get,set,has,delete_]}),y=n('HashMap',function(m,a){function HashMap(a){if(this===c||this==null||this===q)return new HashMap(a);m(this,{size:0,0:g(null),1:g(null),2:g(null)});var b=this;a&&o(a,function(a,c){f(set,b,a,c)})}function get(b){return a(this)[e(b)][d(b)]}function set(b,g){var c=a(this),f=c[e(b)];b=d(b),b in f||c.size++,f[b]=g}function has(b){return d(b)in a(this)[e(b)]}function delete_(b){var c=a(this),f=c[e(b)];return b=d(b),b in f?(delete f[b],c.size--,!0):!1}function size(){return a(this).size}function forEach(h,d){var e=a(this);d=d==null?c:d;for(var b=0;b<3;b++)for(var g in e[b])f(h,d,e[b][g],r(b,g),this)}var q=HashMap[b],i=0,j=1,h=2,n={'true':!0,'false':!1,'null':null,0:-0};if('toString'in g(null)){var d=function(a){return typeof a===G?'_'+a:''+a};var k=function(a){return a.slice(1)}}else{var l=Math.random().toString(36).slice(2);var k=function(a){return a===l?'__proto__':a};var d=function(a){return a==='__proto__'?l:a}}var r=function(b,a){switch(b){case i:return k(a);case j:return+a;case h:return n[a]}};var e=function(a){if(a==null)return h;switch(typeof a){case'boolean':return h;case G:return i;case'number':return a===0&&Infinity/a===-Infinity?h:j;default:throw new TypeError('Invalid HashMap key')}};return delete_=p(delete_,['e','a','d'],[e,a,d]),[HashMap,get,set,has,delete_,size,forEach]}),'Map'in c&&'forEach'in c.Map.prototype?w=m.Map=c.Map:w=n('Map',function(m,d){function Map(a){if(this===c||this==null||this===n)return new Map(a);var b=u();b.keys=[],b.values=[],m(this,b);var d=this;a&&o(a,function(a,b){f(set,d,a,b)})}function get(a){var b=d(this),c=g(a);return b.values[k[c](b[c],a)]}function set(b,h){var a=d(this),c=g(b),f=k[c](a[c],b);f===e?(q[c](a[c],b,a.keys.length),D(a.keys,b),D(a.values,h)):(a.keys[f]=b,a.values[f]=h)}function has(a){var b=g(a);return r[b](d(this)[b],a)}function delete_(c){var a=d(this),b=g(c),f=k[b](a[b],c);return f===e?!1:(t[b](a[b],c),s(a.keys,f,1),s(a.values,f,1),!0)}function size(){return d(this).keys.length}function forEach(h,a){var e=d(this),g=e.keys,i=e.values;a=a==null?c:a;for(var b=0,j=g.length;b<j;b++)f(h,a,i[b],g[b],this)}var i=c.Map,n=Map[b],j=B[b],h=(i||y)[b],k=[a(h.get),a(j.get)],q=[a(h.set),a(j.set)],r=[a(h.has),a(j.has)],t=[a(h['delete']),a(j['delete'])];var g=i?function(){return 0}:function(a){return+(typeof a===A?a!==null:typeof a===l)};var u=i?function(){return{0:new i}}:function(){return{0:new y,1:new B}};return delete_=p(delete_,['g','d','f','s'],[g,d,f,s]),[Map,get,set,has,delete_,size,forEach]}),n('Set',function(j,d){function Set(a){if(this===c||this==null||this===h)return new Set(a);j(this,new w);var b=this;a&&o(a,function(c,a){f(add,b,a)})}function add(a){m(d(this),a,a)}function has(a){return l(d(this),a)}function delete_(a){return g(d(this),a)}function size(){return i(d(this))}function forEach(a,b){var c=0,e=this;k(d(this,function(b){f(a,this,b,c++,e)},b))}var h=Set[b],e=w[b],i=a(e.size),k=a(e.forEach),n=a(e.get),m=a(e.set),l=a(e.has),g=a(e['delete']);return delete_=p(delete_,['g','d'],[g,d]),[Set,add,has,delete_,size,forEach]})}('string','object','function','prototype','toString',Array,Object,Function,Function.prototype,(0,eval)('this'),typeof exports==='undefined'?this:exports,{})
